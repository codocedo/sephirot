# EXPERIMENTAL FILES FOR DAM 16

Experimental files for Baixeries, Codocedo, Kaytoue, Napoli paper entitled:
“Characterizing Approximate-Matching Dependencies in Formal Concept Analysis with Pattern Structures”.

## Description

The files provided to replicate the experiments presented in the paper are structured as follows:

./bin : Folder with the main binaries to execute the AddIntent algorithm for functional dependency mining.
./datasets : Folder with the 6 datasets used.
./pyijgs : Folder with utility scripts.


The folder dataset contains a single folder for each of the datasets:
- diagnosis: http://archive.ics.uci.edu/ml/datasets/Acute+Inflammations
- cmc (Contraception): http://archive.ics.uci.edu/ml/datasets/Contraceptive+Method+Choice
- servo : http://archive.ics.uci.edu/ml/datasets/Servo
- caulkins (Caulkins-p): http://lib.stat.cmu.edu/jasadata/caulkins-p 
- hughes (hughes-r): http://lib.stat.cmu.edu/jasadata/hughes-r
- pglw00: http://lib.stat.cmu.edu/jasadata/pglw00.zip

Each dataset folder contains the following sub directories:
- ./data : Will contain the formal contexts and the pattern structures to process.
- ./data/original : Contains the original dataset and the file with the theta values.
- ./ini : Contains the ini files to execute the AddIntent algorithm.
- ./results : Contains the concept lattices generated by the AddIntent algorithm.
- ./scripts : Contains the script that generates the pattern structures, the formal contexts and the ini files for each one of them.


## Execution

To execute an experiment, first execute the script to generate the formal contexts, tolerance blocks and ini files. For example, in the case of the dataset diagnosis, go to the directory of the script and execute:

python convert_diagnosis.py

If everything worked ok, then go to the root folder of the experiments and execute:

For parallel computation:
./bin/psephirot -i datasets/diagnosis/ini/diagnosis.ijgs.tb.ini

For non-parallel computation:
./bin/sephirot -i datasets/diagnosis/ini/diagnosis.ijgs.tb.ini

## Results

The script generates 8 files. In the case of diagnosis, the conversion script generates:

In folder data:
- diagnosis.ijgs.fca.ctx : formal context for diagnosis.
- diagnosis.ijgs.fca.fcacl.ctx.time.txt : Time report for the generation of the formal context and its clarification.
- diagnosis.ijgs.fcacl.ctx : Clarified formal context.
- diagnosis.ijgs.tb.ctx : Pattern structure based in tolerance blocks.
- diagnosis.ijgs.tb.ctx.time.txt : Time report for the generation of the pattern structure (This time is usually ignored as the transformation is only a matter of change of format).

In folder ini:
- diagnosis.ijgs.fca.ini : Ini file to process the formal context with sephirot.
- diagnosis.ijgs.fcacl.ini : Ini file to process the clarified formal context with sephirot.
- diagnosis.ijgs.tb.ini : : Ini file to process the pattern structure based in tolerance blocks with sephirot.

Sephirot generates 3 files. In the case of the execution of:
./bin/psephirot -i datasets/diagnosis/ini/diagnosis.ijgs.tb.ini

- diagnosis.ijgs.tb.zephyr.lat.json : Concept lattice in json format.
- diagnosis.ijgs.tb.zephyr.lat.txt : Concept lattice in txt format.
- diagnosis.ijgs.tb.zephyr.report.txt : Time report for the calculation of the concept lattice. This time does not consider the writing of two previous files.

Both versions of sephirot (parallel and not parallel) generates the same output and receives the same ini file.

## Requirements

Python scripts require the numpy library and were written for the version 2.6 of python.
Sephirot was compiled for a 64 bit linux machine.
Parallel sephirot by default will takes control of all available cores. Parametrizing the number of cores that it uses is not supported in the current version.

## TAKE CARE WITH

- As discussed in the paper, the creation of the formal context for the dataset pglw00 is not feasible. So, consider stoping the execution of the conversion script for pglw00 after it had successfully created the pattern structure (using control+c).

- The processing of Caulkins takes around 5 hours.


